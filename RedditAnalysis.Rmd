---
title: "Qualitative Analysis of Reddit Data Using R"

output: html_notebook
bibliography: dissertation_bibliography.bib
csl: apa.csl
---
### Gentry Hanks, Queen's University
# Abstract

The embodiment of surveillant technologies provides a means and site of production of data to be consumed by both the self and the medical gaze with physical and emotional consequences. Analyzing discourse on the subreddit r/diabetes, I examine assemblages of surveillant technologies that render an ever-increasing quantified self for those using insulin pumps and glucose monitors. @haraway_simians_1990 brought cyborgs to the fore in the early 1990s and @lupton_technology_2000 describes cyborgs ``When hooked up to medical (and other) technologies, the patient's body becomes a cyborg, a juncture of human flesh and machine'' (p.56). Bodies are rendered regulatable through the use of embodied and disembodied technologies. People with any type of diabetes may be treated with insulin, which can be self-administered through multiple daily injections or through an insulin pump. Insulin pumps, as well as insulin, are proprietary. There is a growing do-it-yourself movement when it comes to hacking the cyborg self. Open source communities have made headway in generating new technology, reappropriating old devices or implementing everyday hacks of hardware and its fleshy interface (@forlano_hacking_2016). @lupton2016foreword describes these devices and data as intermingling within a data economy, which I argue in the case of diabetes are used in surveillance and the medical gaze. Devices used to manage diabetes quantify the self and datify the device user. These data as perceived by medical practitioners, family members, friends, strangers and last, but not least, the self can have significant effects on everyday life, socio-spatial relations and emotional health.

# Methods
While geographers like @crooks2006embodied have used the proprietary software, NVivo, for analyzing text and geographers @aitken2010gis, @elwood2009qualitative, and @elwood_mixed_2010 have taken traditionally quantitative tools and reappropriated them for qualitative research in GIS, there has been little work done using or writing about reappropriating traditionally quantitative opensource tools like R.

What is R?
R is a computer programming language developed out of S. It is an opensource language and a GNU project. It has a large, active community, which is one of its largest assets.

```{r}
library(dplyr) # dplyr is a library written by Hadley Wickham for easy manipulation of data. See https://cran.r-project.org/web/packages/dplyr/index.html to download or http://dplyr.tidyverse.org/
library(readr) # Hadley Wickham made readr to make it easier for reading many kinds of tabular data.
library(ggplot2) # This is a plotting system for R, also by Hadley Wickham. See http://ggplot2.org/.
```
```{r, message=FALSE}
#a data frame is a data structure like a spreadsheet that uses code instead of a graphical user interface.


d <- read_csv("~/Downloads/reddit_diabetes.csv") #This data set was accessed through the reddit API and is publicly available.
```
Here I create the filter_by_anything function for key word searches.
```{r}
filter_by_anything <- function(.data, pattern) { #pattern here just means an input to be matched.
  .data %>%
    filter(grepl(pattern, body))
}
```

### How do data producers (in this case people with diabetes who wear insulin pumps or cgms (cyborgs) access their own data?
```{r}
d %>%
  filter_by_anything("data") %>%
  # filter(grepl("open source", body)) %>%
  as.data.frame()
# One of the comments this yielded was interesting for answering our question. ``8  There is so much going on in this
#field right now. In the past, people were pretty limited in what they could do with technology to manage their diabetes,because the type of technology wasn't considered in the FDA approval process (i.e. it had to jump through all the same hoops that a new pump model would, even if it was just an app that was reading data, not writing it). Even at that time, people were still coming up with ideas. In particular, I can think of a user here who set up an IFTTT program that would let him text his sugar to a number and then it would be automatically logged in a Google spreadsheet.He shared the code here and I was able to set it up for myself, too. I probably still have the code snippet somewhere.\n\nNow there has been a proliferation of diabetes related apps. There are some that gamify your care. An example is #[MySugr](https://mysugr.com/) where you make very detailed log entries to get more points to "feed the monster" and if you hit a certain number ... <truncated>"

filter_by_anything("malfunction")%>%
  as.data.frame()

filter_by_anything("API")%>%
  as.data.frame()

filter_by_anything("hack")%>%
  as.data.frame()

filter_by_anything("bluetooth")%>%
  as.data.frame()

filter_by_anything("reverse engineer")%>%
  as.data.frame()

```
### The next question I'd like to explore is:  How do people in this community feel about wearing an embodied medical device in everyday life?
```{r}
# Here I filter by keyword "cyborg" and use arrange to order them from oldest to newest and finally use as.data.frame() to read the comments from the body.
d %>%
  filter_by_anything("cyborg") %>%
  arrange(created_utc) %>%
  as.data.frame()
```

I accessed the reddit data 
